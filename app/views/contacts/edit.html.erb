<div class="col-md-12">
  <p>Below is a standard rails edit form wired in with some Bootstrap classes. The server side implementation is
    nearly identical to the usual Rails edit pattern, but uses AJAX for all requests.</p>

  <p>Try inputting an invalid email to see how cleanly field validation is handled.</p>

  <div class="col-md-5">
    <%= form_for @contact do |f| %>

      <div style="position:relative">
        <i id="email-indicator" class="fa fa-spinner fa-spin float-right" style="display:none;position:absolute;left:55px;top:4px"></i>
        <div id="email-wrapper" ic-transition="none">
          <%= render 'email_input' %>
        </div>
      </div>

      <div class="form-group <%= 'has-error' if @contact.errors[:first_name].present? %> ">
        <label class="control-label">First Name</label>
        <%= f.text_field :first_name, {:class => 'form-control'} %>
        <span class="help-block"><%= @contact.errors[:first_name].join(',') if @contact.errors[:first_name].present? %></span>
      </div>

      <div class="form-group <%= 'has-error' if @contact.errors[:last_name].present? %> ">
        <label class="control-label">Last Name</label>
        <%= f.text_field :last_name, {:class => 'form-control'} %>
        <span class="help-block"><%= @contact.errors[:last_name].join(',') if @contact.errors[:last_name].present? %></span>
      </div>

      <button ic-target="#content" ic-put-to="<%= contact_path @contact %>" class="btn btn-primary">Save</button>

      <button ic-target="#content" ic-get-from="<%= contact_path @contact %>" class="btn btn-danger">Cancel</button>

    <% end %>
  </div>
</div>